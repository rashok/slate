<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Loyalty Plus API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="../javascripts/all.js"></script>
  </head>

  <body class="x2017-01-01 x2017-01-01_index" data-languages="[&quot;Shell&quot;,&quot;Ruby&quot;,&quot;JSON&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="../images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="Shell">Shell</a>
              <a href="#" data-language-name="Ruby">Ruby</a>
              <a href="#" data-language-name="JSON">JSON</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Loyalty Plus Help</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="version-o1">Version O1</h1>

<p>Welcome to the Loyalty Plus API! Please make sure you&rsquo;ve subscribed to our API Changelog Mailing List to receive updates on new versions of our api. We document all our API changes in our <a href="#api-changelog">API Changelog</a>.</p>

<p>We have language bindings in Shell, Ruby, and Java! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<h1 id="api-changelog">API Changelog</h1>

<p>When we make backwards-incompatible changes to any of our APIs, we release new dated versions. To use a new version of the API, use the release date in the URL of request as indicated below.</p>

<p><code class="prettyprint">GET https://api.500friends.com/2016-07-01/api/ping</code></p>

<h3 id="2016-07-01">2016-07-01</h3>

<p><strong>Enrolling users with a locale</strong></p>

<blockquote>
<p>You can now enroll users with a locale by passing in the optional locale parameter.</p>
</blockquote>
<pre class="highlight json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"locale"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>List changes here</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"api_endpoint_here"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code class="prettyprint">meowmeowmeow</code> with your API key.</p>
</blockquote>

<p>Kittn uses API keys to allow access to the API. You can register a new Kittn API key at our <a href="http://example.com/developers">developer portal</a>.</p>

<p>Kittn expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: meowmeowmeow</code></p>

<aside class="notice">
You must replace <code>meowmeowmeow</code> with your personal API key.
</aside>

<h1 id="enrollment">Enrollment</h1>

<h2 id="enroll-a-user-into-the-program">Enroll a user into the program</h2>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.500friends.com/api/enroll.json?uuid=account_id&amp;email=customer_email</code></p>
<pre class="highlight ruby"><code><span class="nb">require</span> <span class="s1">'uri'</span>
<span class="nb">require</span> <span class="s1">'net/http'</span>

<span class="n">url</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.500friends.com/api/enroll.json?uuid=sETBsiU51WIQlyl&amp;email=nobody%40example.com"</span><span class="p">)</span>

<span class="n">http</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">url</span><span class="p">.</span><span class="nf">port</span><span class="p">)</span>
<span class="n">http</span><span class="p">.</span><span class="nf">use_ssl</span> <span class="o">=</span> <span class="kp">true</span>
<span class="n">http</span><span class="p">.</span><span class="nf">verify_mode</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">SSL</span><span class="o">::</span><span class="no">VERIFY_NONE</span>

<span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Get</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
<span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">read_body</span>
</code></pre><pre class="highlight shell"><code>curl
<span class="s2">"https://api.500friends.com/api/enroll.json?uuid=account_id&amp;email=customer_email"</span>
</code></pre>
<blockquote>
<p>If the enrollment is successful, the above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nt">"data"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"points"</span><span class="p">:</span><span class="mi">10</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>If there is an error,</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
   </span><span class="nt">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="nt">"data"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"points"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"referral_failed"</span><span class="p">:{</span><span class="w">
         </span><span class="nt">"code"</span><span class="p">:</span><span class="mi">351</span><span class="p">,</span><span class="w">
         </span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"The code is invalid"</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>uuid</td>
<td>×</td>
<td>your Account ID</td>
</tr>
<tr>
<td>email</td>
<td>*†</td>
<td>email address of a customer to be enrolled</td>
</tr>
<tr>
<td>external_customer_id</td>
<td>*</td>
<td>id you use to uniquely identify a customer</td>
</tr>
<tr>
<td>name</td>
<td></td>
<td>customer&rsquo;s full name</td>
</tr>
<tr>
<td>first_name</td>
<td></td>
<td>customer&rsquo;s first name</td>
</tr>
<tr>
<td>last_name</td>
<td></td>
<td>customer&rsquo;s last name</td>
</tr>
<tr>
<td>address_line_1</td>
<td></td>
<td>first line of customer&rsquo;s address</td>
</tr>
<tr>
<td>address_line_2</td>
<td></td>
<td>second line of customer&rsquo;s address</td>
</tr>
<tr>
<td>city</td>
<td></td>
<td></td>
</tr>
<tr>
<td>state</td>
<td></td>
<td></td>
</tr>
<tr>
<td>postal_code</td>
<td></td>
<td></td>
</tr>
<tr>
<td>country</td>
<td></td>
<td>for recognition by the pulldown in the LoyaltyPlus Portal customer edit section, use the two-character ISO country code</td>
</tr>
<tr>
<td>home_phone</td>
<td></td>
<td></td>
</tr>
<tr>
<td>work_phone</td>
<td></td>
<td></td>
</tr>
<tr>
<td>mobile_phone</td>
<td></td>
<td></td>
</tr>
<tr>
<td>birthdate</td>
<td></td>
<td>for birthday-based promotions. Format: YYYY-MM-DD or MM-DD</td>
</tr>
<tr>
<td>home_store</td>
<td></td>
<td>the customer&rsquo;s primary store</td>
</tr>
<tr>
<td>brand</td>
<td></td>
<td>the engagement brand &ndash; for web sites with more than one brand area from which a member may enroll</td>
</tr>
<tr>
<td>channel</td>
<td></td>
<td>the engagement channel i.e. web vs. instore vs. mobile where the event occurred</td>
</tr>
<tr>
<td>sub_channel</td>
<td></td>
<td>additional details about the channel, such as store ID, store location or website section</td>
</tr>
<tr>
<td>sub_channel_detail</td>
<td></td>
<td>accepts text value to identify additional details about the sub_channel, such as Sales Rep or Employee ID Number</td>
</tr>
<tr>
<td>unsubscribed</td>
<td></td>
<td>set to true to unsubscribe a customer; defaults to false. Note: unsubscribed customers will not receive any scheduled emails from your program; however, they will continue to receive transactional emails.</td>
</tr>
<tr>
<td>unsubscribed_sms</td>
<td></td>
<td>set to false to subscribe a customer to mobile communications via sms; defaults to true.</td>
</tr>
<tr>
<td>enrolled_at</td>
<td></td>
<td>Date field to indicate enrollment date of the customer, if different from the current date.</td>
</tr>
<tr>
<td>expiration_date</td>
<td></td>
<td>date at which the enrollment points should expire. If this date is not specified, the points will expire according to the configured expiration. Note: expiration_date cannot be in the past; however it can be today&rsquo;s date.</td>
</tr>
<tr>
<td>password</td>
<td>†</td>
<td>the user&rsquo;s password (if storing authentication variables)</td>
</tr>
<tr>
<td>password_confirmation</td>
<td></td>
<td>the user&rsquo;s password again (if storing authentication variables)</td>
</tr>
<tr>
<td>vendor</td>
<td>†</td>
<td>the vendor used for authentication, e.g., facebook or twitter</td>
</tr>
<tr>
<td>vendor_id</td>
<td>†</td>
<td>e.g., 23edv4434rwe</td>
</tr>
<tr>
<td>custom_attributes</td>
<td></td>
<td>custom attributes for the customer, in JSON format.</td>
</tr>
<tr>
<td>referral_code</td>
<td></td>
<td>the code for attributing a user&rsquo;s referral</td>
</tr>
<tr>
<td>referral_channel</td>
<td></td>
<td>channel set by the client for the referral source</td>
</tr>
</tbody></table>

<h3 id="response-parameters">Response Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>points</td>
<td>number of points recorded for the event</td>
</tr>
<tr>
<td>referral_failed</td>
<td>details of an invalid referral code (enrollment will not fail if referral code is invalid)</td>
</tr>
</tbody></table>

<p>sig |   |security signature
<aside class="success">
Remember — a happy kitten is an authenticated kitten!
</aside></p>

<h1 id="topics">Topics</h1>

<h2 id="date-formats">Date Formats</h2>

<p>Here is a list of valid date formats to be used as attributes in requests.</p>

<table><thead>
<tr>
<th>Format</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>yyyy-mm-dd</td>
<td>2011-07-21</td>
<td>day boundaries are based on Pacific time zone</td>
</tr>
<tr>
<td>yyyy/mm/dd</td>
<td>2011/07/21</td>
<td>day boundaries are based on Pacific time zone</td>
</tr>
<tr>
<td>mm/dd/yyyy</td>
<td>07/21/2011</td>
<td>day boundaries are based on Pacific time zone</td>
</tr>
<tr>
<td>yyyy-mm-ddThh:mm:ss</td>
<td>2013-06-19T13:00:00</td>
<td>Pacific time zone</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the `includes` folder and add them to the top of your `index.md`&rsquo;s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

          <h1 id="artists">Artists</h1>

<p>In addition to album and track information, you can also request information about the artists.</p>

<h2 id="getting-all-artists">Getting all Artists</h2>

<p>Retrieve information about all artists using the following URL:</p>

<p><code class="prettyprint">GET http://example.com/api/artists</code></p>

<h2 id="getting-an-artist">Getting an Artist</h2>

<p>Retrieve a specific artist using the following URL:</p>

<p><code class="prettyprint">GET http://example.com/api/artists/[ID]</code></p>

<aside class="notice">
Replace [ID] with the numeric ID of the artist
</aside>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="Shell">Shell</a>
                <a href="#" data-language-name="Ruby">Ruby</a>
                <a href="#" data-language-name="JSON">JSON</a>
          </div>
      </div>
    </div>
  </body>
</html>
